const fs = require('fs');
const path = require('path');

// Complete N5 Korean translations
const n5Translations = {
  '～円': '~엔',
  'お～': '~(존경 접두어)',
  '多い': '많은',
  'お菓子': '과자',
  'お金': '돈',
  '奥さん': '부인 (남의 아내)',
  '伯父; 叔父さん': '아저씨, 삼촌',
  'おじいさん': '할아버지',
  '教える': '가르치다',
  'お手洗い': '화장실',
  'おととし': '재작년',
  '同じ': '같은',
  'お兄さん': '오빠/형 (남의)',
  'お姉さん': '언니/누나 (남의)',
  '伯母さん; 叔母さん': '아주머니, 이모/고모',
  'おばあさん': '할머니',
  'お弁当': '도시락',
  '覚える': '외우다, 기억하다',
  'おまわりさん': '경찰 아저씨',
  '降りる': '내리다',
  '終る': '끝나다',
  '～回': '~회, ~번',
  '～階': '~층',
  '～か月': '~개월',
  'かける': '걸다 (전화)',
  '風邪': '감기',
  '片仮名': '가타카나',
  '～月': '~월',
  'かぶる': '쓰다 (모자)',
  '体': '몸',
  '彼': '그',
  '彼女': '그녀',
  '～側': '~쪽',
  '軽い': '가벼운',
  '～君': '~군 (호칭)',
  'ギター': '기타',
  '切手': '우표',
  '喫茶店': '찻집, 카페',
  '絹': '비단',
  '兄弟': '형제',
  'クラス': '반, 클래스',
  '警察': '경찰',
  '消しゴム': '지우개',
  '結婚する': '결혼하다',
  '～個': '~개',
  '公園': '공원',
  '交番': '파출소',
  '声': '목소리',
  'コート': '코트',
  'コーヒー': '커피',
  '午後': '오후',
  '御主人': '남편 (남의)',
  '午前': '오전',
  '答える': '대답하다',
  'コップ': '컵',
  '今年': '올해',
  '言葉': '말, 단어',
  '子供': '아이',
  'ご飯': '밥',
  '困る': '곤란하다',
  '今月': '이번 달',
  '今週': '이번 주',
  '今晩': '오늘 밤',
  '～歳': '~살',
  '～冊': '~권',
  '雑誌': '잡지',
  '砂糖': '설탕',
  '寂しい': '외로운',
  '～さん': '~씨',
  '～時': '~시',
  '仕事': '일',
  '辞書': '사전',
  '静か': '조용한',
  '下': '아래',
  '七': '7, 일곱',
  '質問': '질문',
  '自転車': '자전거',
  '自動車': '자동차',
  '締める': '매다, 조이다',
  'じゃ/では': '그럼',
  '写真': '사진',
  'シャツ': '셔츠',
  'シャワー': '샤워',
  '～週間': '~주일',
  '授業': '수업',
  '宿題': '숙제',
  '上手': '잘하는',
  '丈夫': '튼튼한',
  '醤油': '간장',
  '食堂': '식당',
  '知る': '알다',
  '白': '흰색',
  '白い': '흰',
  '～人': '~명',
  '新聞': '신문',
  '水曜日': '수요일',
  '吸う': '피우다',
  'スカート': '스커트',
  '好き': '좋아하는',
  '少し': '조금',
  'すぐに': '곧',
  '涼しい': '시원한',
  'ストーブ': '난로',
  'スプーン': '숟가락',
  'スポーツ': '스포츠',
  'ズボン': '바지',
  '住む': '살다',
  'スリッパ': '슬리퍼',
  'する': '하다',
  '座る': '앉다',
  '背': '키',
  '背広': '양복',
  'セーター': '스웨터',
  '石鹸': '비누',
  '狭い': '좁은',
  'ゼロ/零': '영, 제로',
  '千': '천',
  '先月': '지난달',
  '先週': '지난주',
  '先生': '선생님',
  '洗濯': '빨래',
  '全部': '전부',
  '掃除': '청소',
  '外': '밖',
  '側': '옆',
  '大学': '대학',
  '大使館': '대사관',
  '大丈夫': '괜찮은',
  '大好き': '아주 좋아하는',
  '大切': '소중한',
  '大変': '힘든, 매우',
  '高い': '높은, 비싼',
  'たくさん': '많이',
  'タクシー': '택시',
  '出す': '내다',
  '立つ': '서다',
  '建物': '건물',
  'たばこ': '담배',
  '食べ物': '음식',
  '食べる': '먹다',
  '卵/玉子': '계란',
  '誰': '누구',
  '誕生日': '생일',
  '小さい': '작은',
  '近い': '가까운',
  '違う': '다르다',
  '地下鉄': '지하철',
  '地図': '지도',
  '茶色': '갈색',
  'ちょうど': '딱, 정확히',
  'ちょっと': '조금',
  '一日': '하루',
  '使う': '사용하다',
  '疲れる': '피곤해지다',
  '次': '다음',
  '着く': '도착하다',
  '机': '책상',
  '作る': '만들다',
  'つける': '붙이다, 켜다',
  'つまらない': '재미없는',
  '冷たい': '차가운',
  '強い': '강한',
  '手': '손',
  'テープ': '테이프',
  'テーブル': '테이블',
  '手紙': '편지',
  '出来る': '할 수 있다',
  '出口': '출구',
  'テスト': '시험',
  'テレビ': '텔레비전',
  '天気': '날씨',
  '電気': '전기',
  '電車': '전철',
  '電話': '전화',
  'ドア': '문',
  'トイレ': '화장실',
  'どう': '어떻게',
  'どうして': '왜',
  'どうぞ': '어서',
  '動物': '동물',
  'どうも': '정말',
  '遠い': '먼',
  '十': '10, 열',
  '時々': '가끔',
  '時計': '시계',
  'どこ': '어디',
  '所': '곳',
  '年': '해, 나이',
  'どちら': '어느 쪽',
  'とても': '매우',
  'どなた': '누구 (존댓말)',
  '隣': '옆',
  'どの': '어느',
  '飛ぶ': '날다',
  '止まる': '멈추다',
  '友達': '친구',
  '土曜日': '토요일',
  '鳥': '새',
  '取る/撮る': '가져가다/찍다',
  'どれ': '어느 것',
  'どんな': '어떤',
  'ナイフ': '나이프',
  '中': '안',
  '長い': '긴',
  '鳴く': '울다 (동물)',
  '夏': '여름',
  '夏休み': '여름방학',
  '何/なに': '무엇',
  '七つ': '일곱',
  '名前': '이름',
  '習う': '배우다',
  '並ぶ': '줄서다',
  '並べる': '나열하다',
  '二': '2, 둘',
  '賑やか': '번화한',
  '肉': '고기',
  '西': '서쪽',
  '～日': '~일',
  '日曜日': '일요일',
  '荷物': '짐',
  'ニュース': '뉴스',
  '庭': '정원',
  '脱ぐ': '벗다',
  '温い/ぬるい': '미지근한',
  'ノート': '노트',
  '登る': '오르다',
  '飲み物': '음료',
  '飲む': '마시다',
  '乗る': '타다',
  'パーティー': '파티',
  'はい': '예',
  '灰皿': '재떨이',
  '入る': '들어가다',
  '葉書': '엽서',
  '履く': '신다',
  '箱': '상자',
  '橋': '다리',
  '箸': '젓가락',
  '始まる': '시작되다',
  '初めて': '처음으로',
  '走る': '달리다',
  'バス': '버스',
  'バター': '버터',
  '八': '8, 여덟',
  '二十日': '20일',
  '花': '꽃',
  '鼻': '코',
  '話': '이야기',
  '話す': '말하다',
  '早い/速い': '빠른',
  '春': '봄',
  '晴れ': '맑음',
  '晴れる': '개다',
  '半': '반',
  '番': '번',
  '晩': '밤',
  'パン': '빵',
  'ハンカチ': '손수건',
  '番号': '번호',
  '東': '동쪽',
  '引く': '당기다',
  '弾く': '연주하다',
  '低い': '낮은',
  '飛行機': '비행기',
  '左': '왼쪽',
  '人': '사람',
  '一つ': '하나',
  '暇': '한가한',
  '百': '백',
  '病院': '병원',
  '病気': '병',
  '平仮名': '히라가나',
  '昼': '낮',
  '広い': '넓은',
  'フィルム': '필름',
  '封筒': '봉투',
  'プール': '수영장',
  'フォーク': '포크',
  '吹く': '불다',
  '二つ': '둘',
  '豚肉': '돼지고기',
  '太い': '굵은',
  '冬': '겨울',
  '降る': '내리다',
  '古い': '오래된',
  'プレゼント': '선물',
  '文章': '문장',
  'ページ': '페이지',
  '下手': '서투른',
  'ベッド': '침대',
  'ペット': '애완동물',
  '部屋': '방',
  'ペン': '펜',
  '勉強': '공부',
  '便利': '편리한',
  '帽子': '모자',
  'ボールペン': '볼펜',
  '他': '다른',
  'ポケット': '주머니',
  '欲しい': '원하는',
  '細い': '가는',
  'ボタン': '버튼',
  'ホテル': '호텔',
  '本': '책',
  '本棚': '책장',
  '～本': '~개 (긴 것)',
  '毎朝': '매일 아침',
  '～枚': '~장',
  '毎月': '매달',
  '毎週': '매주',
  '毎日': '매일',
  '毎年': '매년',
  '毎晩': '매일 밤',
  '前': '앞',
  '曲がる': '돌다',
  'まずい': '맛없는',
  'また': '또',
  'まだ': '아직',
  '町': '마을',
  '待つ': '기다리다',
  'まっすぐ': '똑바로',
  'マッチ': '성냥',
  '窓': '창문',
  '丸い': '둥근',
  '万': '만',
  '万年筆': '만년필',
  '右': '오른쪽',
  '短い': '짧은',
  '水': '물',
  '店': '가게',
  '緑': '초록색',
  '南': '남쪽',
  '耳': '귀',
  '見る': '보다',
  '皆さん': '여러분',
  '六日': '6일',
  '向こう': '저쪽',
  '難しい': '어려운',
  '村': '마을',
  '目': '눈',
  'メートル': '미터',
  '眼鏡': '안경',
  'もう': '이미',
  '木曜日': '목요일',
  '持つ': '가지다',
  'もっと': '더',
  '物': '물건',
  '問題': '문제',
  '八百屋': '채소가게',
  '野菜': '채소',
  '易しい': '쉬운',
  '安い': '싼',
  '休み': '휴식',
  '休む': '쉬다',
  '八つ': '여덟',
  '山': '산',
  'やる': '하다',
  '夕方': '저녁',
  '夕べ': '어젯밤',
  '郵便局': '우체국',
  '有名': '유명한',
  '雪': '눈',
  'ゆっくり': '천천히',
  '洋服': '양복',
  'よく': '잘',
  '横': '옆',
  '四日': '4일',
  '夜': '밤',
  '四つ': '넷',
  '呼ぶ': '부르다',
  '読む': '읽다',
  '夜る': '밤',
  '弱い': '약한',
  '来月': '다음 달',
  '来週': '다음 주',
  '来年': '내년',
  'ラジオ': '라디오',
  'りっぱ': '훌륭한',
  '留学生': '유학생',
  '両親': '부모님',
  '料理': '요리',
  '旅行': '여행',
  'れい': '영',
  '冷蔵庫': '냉장고',
  'レコード': '레코드',
  'レストラン': '레스토랑',
  '練習': '연습',
  '六': '6, 여섯',
  'ワイシャツ': '와이셔츠',
  '若い': '젊은',
  '分かる': '알다',
  '忘れる': '잊다',
  '渡す': '건네다',
  '渡る': '건너다',
  '悪い': '나쁜',
  '～度': '~번, ~도'
};

// Complete N4 Korean translations
const n4Translations = {
  '挨拶': '인사',
  '合う': '맞다',
  '味': '맛',
  '足りる': '충분하다',
  'アナウンサー': '아나운서',
  'アフリカ': '아프리카',
  '～以外': '~이외',
  '以下': '이하',
  '以内': '이내',
  '以上': '이상',
  '急ぐ': '서두르다',
  '祈る': '빌다',
  'いらっしゃる': '계시다',
  '植える': '심다',
  '受付': '접수',
  '受ける': '받다',
  '動く': '움직이다',
  'うそ': '거짓말',
  '打つ': '치다',
  '腕': '팔',
  '売り場': '매장',
  '嬉しい': '기쁜',
  '運転': '운전',
  'エスカレーター': '에스컬레이터',
  '選ぶ': '고르다',
  '遠慮': '사양',
  'おいでになる': '오시다',
  'お祝い': '축하',
  'おかげ': '덕분',
  '億': '억',
  '屋上': '옥상',
  '送る': '보내다',
  '行う': '행하다',
  '遅れる': '늦다',
  '押し入れ': '벽장',
  'お嬢さん': '아가씨',
  '落ちる': '떨어지다',
  'おっしゃる': '말씀하시다',
  '夫': '남편',
  'お釣り': '거스름돈',
  '音': '소리',
  '踊り': '춤',
  '踊る': '춤추다',
  '驚く': '놀라다',
  '覚える': '외우다',
  '思い出す': '떠올리다',
  'おもちゃ': '장난감',
  '表': '표',
  '泳ぎ方': '수영법',
  '折る': '꺾다',
  '降ろす': '내리다',
  '終わり': '끝',
  '会議': '회의',
  '会話': '회화',
  '帰り': '귀가',
  '変わる': '바뀌다',
  '代わり': '대신',
  '考える': '생각하다',
  '関係': '관계',
  '看護師': '간호사',
  '簡単': '간단한',
  '機会': '기회',
  '危険': '위험',
  '季節': '계절',
  '規則': '규칙',
  'きっと': '틀림없이',
  '気分': '기분',
  '決める': '정하다',
  '気持ち': '기분',
  '客': '손님',
  '急': '급한',
  '急行': '급행',
  '教育': '교육',
  '競争': '경쟁',
  '興味': '흥미',
  '近所': '근처',
  '空気': '공기',
  '草': '풀',
  '首': '목',
  'くださる': '주시다',
  '比べる': '비교하다',
  '暮れる': '저물다',
  '君': '너',
  '経験': '경험',
  '経済': '경제',
  '警察': '경찰',
  'けが': '부상',
  '景色': '경치',
  '下宿': '하숙',
  '決して': '결코',
  'けれど': '하지만',
  '原因': '원인',
  '喧嘩': '싸움',
  '研究': '연구',
  '見物': '구경',
  '子': '아이',
  '～号': '~호',
  '郊外': '교외',
  '講義': '강의',
  '工業': '공업',
  '高校': '고등학교',
  '高校生': '고등학생',
  '工場': '공장',
  '校長': '교장',
  '講堂': '강당',
  '国際': '국제',
  '心': '마음',
  'ご存じ': '알고 계시다',
  '答え': '대답',
  '小鳥': '작은 새',
  'ごみ': '쓰레기',
  '込む': '붐비다',
  '米': '쌀',
  'ごらんになる': '보시다',
  '壊す': '부수다',
  '壊れる': '망가지다',
  '最近': '최근',
  '最後': '마지막',
  '最初': '처음',
  '坂': '언덕',
  '探す': '찾다',
  '下がる': '내려가다',
  '盛ん': '활발한',
  '差し上げる': '드리다',
  '騒ぐ': '떠들다',
  'サラリーマン': '샐러리맨',
  '触る': '만지다',
  '産業': '산업',
  '残念': '아쉬운',
  '試合': '시합',
  '仕方': '방법',
  '～式': '~식',
  '事故': '사고',
  '地震': '지진',
  '時代': '시대',
  '支度/仕度': '준비',
  '失敗': '실패',
  '失礼': '실례',
  '指導': '지도',
  '品物': '물건',
  '市民': '시민',
  '社会': '사회',
  '社長': '사장',
  '自由': '자유',
  '習慣': '습관',
  '住所': '주소',
  '柔道': '유도',
  '十分': '충분히',
  '首都': '수도',
  '趣味': '취미',
  '準備': '준비',
  '紹介': '소개',
  '小学校': '초등학교',
  '招待': '초대',
  '承知': '알겠습니다',
  '小説': '소설',
  '将来': '장래',
  '食事': '식사',
  '食料品': '식료품',
  '女性': '여성',
  '知らせ': '알림',
  '調べる': '조사하다',
  '人口': '인구',
  '親切': '친절',
  '新聞社': '신문사',
  '水泳': '수영',
  '水道': '수도',
  '数学': '수학',
  '過ぎる': '지나다',
  'スクリーン': '스크린',
  '進む': '나아가다',
  'すっかり': '완전히',
  'すてき': '멋진',
  'すべる': '미끄러지다',
  '隅': '구석',
  '済む': '끝나다',
  'すり': '소매치기',
  '背中': '등',
  '世話': '돌봄',
  '線': '선',
  '全然': '전혀',
  '戦争': '전쟁',
  '相談': '상담',
  '育つ': '자라다',
  '祖父': '할아버지',
  '祖母': '할머니',
  '空': '하늘',
  'それで': '그래서',
  'そろそろ': '슬슬',
  '存じる': '알다 (겸양)',
  '倒れる': '쓰러지다',
  '確か': '확실한',
  '足す': '더하다',
  '助かる': '도움이 되다',
  '畳': '다다미',
  '建てる': '짓다',
  '例えば': '예를 들면',
  '棚': '선반',
  '楽しみ': '즐거움',
  '頼む': '부탁하다',
  '足りる': '충분하다',
  '男性': '남성',
  'チェック': '체크',
  '力': '힘',
  '注意': '주의',
  '中学校': '중학교',
  '注射': '주사',
  '駐車場': '주차장',
  '都合': '사정',
  '続く': '계속되다',
  '続ける': '계속하다',
  '伝える': '전하다',
  '捕まえる': '잡다',
  '妻': '아내',
  '釣り': '낚시',
  '釣る': '낚다',
  '連れる': '데려가다',
  '手袋': '장갑',
  '点': '점',
  '届ける': '전달하다',
  '届く': '도착하다',
  '泊まる': '묵다',
  '止める': '멈추게 하다',
  '取り替える': '바꾸다',
  '泥棒': '도둑',
  '直す': '고치다',
  '直る': '고쳐지다',
  '治す': '치료하다',
  '治る': '낫다',
  '泣く': '울다',
  '亡くなる': '돌아가시다',
  '投げる': '던지다',
  'なさる': '하시다',
  '悩む': '고민하다',
  '慣れる': '익숙해지다',
  '苦手': '서투른',
  '匂い/臭い': '냄새',
  '逃げる': '도망치다',
  '日記': '일기',
  '入院': '입원',
  '入学': '입학',
  '似る': '닮다',
  '人形': '인형',
  '盗む': '훔치다',
  '抜く': '뽑다',
  '塗る': '바르다',
  '濡れる': '젖다',
  '値段': '가격',
  '熱': '열',
  '熱心': '열심인',
  '寝坊': '늦잠',
  '眠い': '졸린',
  '眠る': '자다',
  '残る': '남다',
  '乗り換える': '갈아타다',
  '乗り物': '탈것',
  '場合': '경우',
  '倍': '배',
  '運ぶ': '나르다',
  '始める': '시작하다',
  '恥ずかしい': '부끄러운',
  '場所': '장소',
  '発音': '발음',
  '発表': '발표',
  '払う': '지불하다',
  '番組': '프로그램',
  '反対': '반대',
  '日': '날',
  '冷える': '식다',
  '比較': '비교',
  '光': '빛',
  '光る': '빛나다',
  '引き出し': '서랍',
  '引っ越す': '이사하다',
  '必要': '필요',
  'びっくり': '깜짝',
  '開く': '열리다',
  '増える': '늘다',
  '複雑': '복잡한',
  '普通': '보통',
  '太る': '살찌다',
  '布団': '이불',
  '船/舟': '배',
  '不便': '불편한',
  '踏む': '밟다',
  '振る': '흔들다',
  '文化': '문화',
  '文学': '문학',
  '文法': '문법',
  '平気': '괜찮은',
  '別れる': '헤어지다',
  '変': '이상한',
  '返事': '대답',
  '貿易': '무역',
  '法律': '법률',
  'ほとんど': '거의',
  '褒める': '칭찬하다',
  '翻訳': '번역',
  '参る': '가다 (겸양)',
  'まいる': '가다 (겸양)',
  '負ける': '지다',
  '間違える': '틀리다',
  '間違い': '실수',
  'まま': '그대로',
  '周り': '주위',
  '回る': '돌다',
  '見える': '보이다',
  '見つかる': '발견되다',
  '見つける': '발견하다',
  '皆/みんな': '모두',
  '向かう': '향하다',
  '向く': '향하다',
  '向ける': '향하게 하다',
  '迎える': '맞이하다',
  '昔': '옛날',
  '虫': '벌레',
  '娘': '딸',
  '息子': '아들',
  '無理': '무리',
  '召し上がる': '드시다',
  'めしあがる': '드시다',
  '珍しい': '드문',
  '申し上げる': '말씀드리다',
  '申し込む': '신청하다',
  '申す': '말씀드리다',
  '燃える': '타다',
  '木綿': '면',
  '森': '숲',
  '役': '역할',
  '約束': '약속',
  '焼ける': '타다',
  '優しい': '상냥한',
  '輸出': '수출',
  '輸入': '수입',
  '夢': '꿈',
  '揺れる': '흔들리다',
  '用': '용무',
  '用意': '준비',
  '用事': '용무',
  '汚れる': '더러워지다',
  '予定': '예정',
  '寄る': '들르다',
  '喜ぶ': '기뻐하다',
  '宜しい': '좋은 (존경)',
  '理由': '이유',
  '利用': '이용',
  '両方': '양쪽',
  '旅館': '여관',
  '留守': '부재',
  '礼': '인사',
  '冷房': '냉방',
  '歴史': '역사',
  '連絡': '연락',
  '沸かす': '끓이다',
  '別れる': '헤어지다',
  '訳': '이유',
  '笑う': '웃다',
  '割合': '비율',
  '割れる': '깨지다',
  '割る': '깨다'
};

// Apply translations to a file
function applyTranslations(filePath, translations) {
  let content = fs.readFileSync(filePath, 'utf-8');
  let updatedCount = 0;

  for (const [expression, korean] of Object.entries(translations)) {
    const escapedExp = expression.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const escapedKorean = korean.replace(/'/g, "\\'");

    // Only update if not already has meaningKo
    const checkPattern = new RegExp(
      `\\{ expression: '${escapedExp}', reading: '[^']+', meaning: '[^']+'(, meaningKo: '[^']+')?`,
      'g'
    );

    const matches = content.match(checkPattern);
    if (matches) {
      for (const match of matches) {
        if (!match.includes('meaningKo')) {
          const pattern = new RegExp(
            `(\\{ expression: '${escapedExp}', reading: '[^']+', meaning: '[^']+')( \\})`,
            'g'
          );
          const newContent = content.replace(pattern, `$1, meaningKo: '${escapedKorean}'$2`);
          if (newContent !== content) {
            content = newContent;
            updatedCount++;
          }
        }
      }
    }
  }

  fs.writeFileSync(filePath, content);
  return updatedCount;
}

const n5Path = path.join(__dirname, '..', 'src', 'data', 'words', 'n5.ts');
const n4Path = path.join(__dirname, '..', 'src', 'data', 'words', 'n4.ts');

const n5Count = applyTranslations(n5Path, n5Translations);
const n4Count = applyTranslations(n4Path, n4Translations);

console.log(`N5: Added ${n5Count} more translations`);
console.log(`N4: Added ${n4Count} more translations`);

// Count total translations
const n5Content = fs.readFileSync(n5Path, 'utf-8');
const n4Content = fs.readFileSync(n4Path, 'utf-8');
const n3Content = fs.readFileSync(path.join(__dirname, '..', 'src', 'data', 'words', 'n3.ts'), 'utf-8');

const n5Total = (n5Content.match(/meaningKo/g) || []).length;
const n4Total = (n4Content.match(/meaningKo/g) || []).length;
const n3Total = (n3Content.match(/meaningKo/g) || []).length;

console.log(`\nTotal translations:`);
console.log(`N5: ${n5Total}/718`);
console.log(`N4: ${n4Total}/666`);
console.log(`N3: ${n3Total}/2140`);
console.log(`Total: ${n5Total + n4Total + n3Total}/3524`);
