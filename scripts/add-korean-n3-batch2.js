const fs = require('fs');
const path = require('path');

// More N3 Korean translations
const koreanTranslations = {
  // Missing translations - batch 2
  "政府": "정부",
  "国民": "국민",
  "人類": "인류",
  "人物": "인물",
  "人生": "인생",
  "人工": "인공",
  "人事": "인사",
  "人種": "인종",
  "人材": "인재",
  "人格": "인격",
  "世代": "세대",
  "世紀": "세기",
  "世論": "여론",
  "世話": "돌봄",
  "中央": "중앙",
  "中身": "내용",
  "中心": "중심",
  "主人": "주인",
  "主張": "주장",
  "主婦": "주부",
  "主要": "주요",
  "予想": "예상",
  "予定": "예정",
  "予防": "예방",
  "予算": "예산",
  "事件": "사건",
  "事故": "사고",
  "事実": "사실",
  "事情": "사정",
  "事務": "사무",
  "交換": "교환",
  "交通": "교통",
  "交際": "교제",
  "人口": "인구",
  "今後": "금후",
  "仕事": "일",
  "仕方": "방법",
  "付き合い": "교제",
  "代表": "대표",
  "代理": "대리",
  "以上": "이상",
  "以下": "이하",
  "以前": "이전",
  "以外": "이외",
  "以内": "이내",
  "以来": "이래",
  "企業": "기업",
  "会話": "회화",
  "会議": "회의",
  "会場": "회장",
  "会計": "회계",
  "住所": "주소",
  "住宅": "주택",
  "住民": "주민",
  "体力": "체력",
  "体重": "체중",
  "体育": "체육",
  "体験": "체험",
  "作品": "작품",
  "作業": "작업",
  "作者": "작자",
  "使用": "사용",
  "例外": "예외",
  "価値": "가치",
  "価格": "가격",
  "供給": "공급",
  "依頼": "의뢰",
  "保険": "보험",
  "保証": "보증",
  "保存": "보존",
  "信号": "신호",
  "信用": "신용",
  "信頼": "신뢰",
  "修理": "수리",
  "個人": "개인",
  "個性": "개성",
  "候補": "후보",
  "借金": "빚",
  "健康": "건강",
  "側面": "측면",
  "傾向": "경향",
  "僕": "나",
  "優勝": "우승",
  "優先": "우선",
  "元気": "건강",
  "先輩": "선배",
  "先端": "첨단",
  "光景": "광경",
  "入場": "입장",
  "入学": "입학",
  "全国": "전국",
  "全体": "전체",
  "全員": "전원",
  "公平": "공평",
  "公開": "공개",
  "公園": "공원",
  "公式": "공식",
  "共同": "공동",
  "共通": "공통",
  "兵器": "병기",
  "具体": "구체",
  "内容": "내용",
  "内部": "내부",
  "円満": "원만",
  "写真": "사진",
  "冷静": "냉정",
  "処理": "처리",
  "出席": "출석",
  "出版": "출판",
  "出発": "출발",
  "出身": "출신",
  "分野": "분야",
  "分析": "분석",
  "切手": "우표",
  "列車": "열차",
  "初期": "초기",
  "判断": "판단",
  "利用": "이용",
  "利益": "이익",
  "制度": "제도",
  "制限": "제한",
  "刺激": "자극",
  "削除": "삭제",
  "前後": "전후",
  "前提": "전제",
  "副作用": "부작용",
  "割合": "비율",
  "創造": "창조",
  "力強い": "힘찬",
  "効果": "효과",
  "効率": "효율",
  "勇気": "용기",
  "動作": "동작",
  "動物": "동물",
  "勝負": "승부",
  "勤務": "근무",
  "医学": "의학",
  "医者": "의사",
  "医療": "의료",
  "医師": "의사",
  "原因": "원인",
  "原則": "원칙",
  "原料": "원료",
  "厳しい": "엄격한",
  "厳密": "엄밀",
  "参加": "참가",
  "反対": "반대",
  "反応": "반응",
  "反省": "반성",
  "収入": "수입",
  "収穫": "수확",
  "取引": "거래",
  "受付": "접수",
  "受験": "수험",
  "口実": "구실",
  "古典": "고전",
  "可能": "가능",
  "右側": "오른쪽",
  "合計": "합계",
  "合格": "합격",
  "合理": "합리",
  "同士": "동료",
  "同時": "동시",
  "同様": "동양",
  "名前": "이름",
  "向上": "향상",
  "否定": "부정",
  "周囲": "주위",
  "周辺": "주변",
  "命令": "명령",
  "品質": "품질",
  "商品": "상품",
  "商売": "장사",
  "問題": "문제",
  "営業": "영업",
  "団体": "단체",
  "困難": "곤란",
  "国家": "국가",
  "国際": "국제",
  "国境": "국경",
  "国籍": "국적",
  "国語": "국어",
  "土地": "토지",
  "地下": "지하",
  "地元": "지역",
  "地域": "지역",
  "地図": "지도",
  "地球": "지구",
  "地位": "지위",
  "地方": "지방",
  "坂道": "언덕길",
  "均衡": "균형",
  "基本": "기본",
  "基準": "기준",
  "基礎": "기초",
  "報告": "보고",
  "報道": "보도",
  "場合": "경우",
  "場所": "장소",
  "場面": "장면",
  "境界": "경계",
  "増加": "증가",
  "増減": "증감",
  "変化": "변화",
  "変更": "변경",
  "夏休み": "여름방학",
  "外交": "외교",
  "外国": "외국",
  "外出": "외출",
  "多少": "다소",
  "多数": "다수",
  "夜中": "한밤중",
  "夢中": "열중",
  "大会": "대회",
  "大体": "대체",
  "大切": "소중",
  "大学": "대학",
  "大気": "대기",
  "大統領": "대통령",
  "天候": "날씨",
  "天然": "천연",
  "太陽": "태양",
  "失敗": "실패",
  "失望": "실망",
  "失礼": "실례",
  "奇妙": "기묘",
  "契約": "계약",
  "女優": "여배우",
  "女性": "여성",
  "好奇心": "호기심",
  "妊娠": "임신",
  "姿勢": "자세",
  "婦人": "부인",
  "子供": "아이",
  "孤独": "고독",
  "学力": "학력",
  "学問": "학문",
  "学期": "학기",
  "学校": "학교",
  "学生": "학생",
  "学習": "학습",
  "安全": "안전",
  "安定": "안정",
  "安心": "안심",
  "完了": "완료",
  "完成": "완성",
  "完全": "완전",
  "定期": "정기",
  "実力": "실력",
  "実現": "실현",
  "実用": "실용",
  "実績": "실적",
  "実行": "실행",
  "実際": "실제",
  "客観": "객관",
  "宣伝": "선전",
  "家具": "가구",
  "家庭": "가정",
  "家族": "가족",
  "家計": "가계",
  "宿泊": "숙박",
  "密度": "밀도",
  "富士山": "후지산",
  "審査": "심사",
  "対応": "대응",
  "対策": "대책",
  "対象": "대상",
  "専門": "전문",
  "将来": "장래",
  "小説": "소설",
  "少年": "소년",
  "少女": "소녀",
  "就職": "취직",
  "届け": "신고",
  "展開": "전개",
  "展覧会": "전람회",
  "属する": "속하다",
  "山脈": "산맥",
  "工事": "공사",
  "工場": "공장",
  "工夫": "공부",
  "工業": "공업",
  "差別": "차별",
  "市場": "시장",
  "市民": "시민",
  "布団": "이불",
  "希望": "희망",
  "帰宅": "귀가",
  "常識": "상식",
  "平均": "평균",
  "平和": "평화",
  "平日": "평일",
  "年代": "연대",
  "年度": "연도",
  "年齢": "연령",
  "幸福": "행복",
  "広告": "광고",
  "店員": "점원",
  "庭園": "정원",
  "座席": "좌석",
  "建物": "건물",
  "建築": "건축",
  "建設": "건설",
  "弁当": "도시락",
  "弁護士": "변호사",
  "引退": "은퇴",
  "強化": "강화",
  "強調": "강조",
  "当然": "당연",
  "当時": "당시",
  "形式": "형식",
  "形成": "형성",
  "形態": "형태",
  "役割": "역할",
  "役者": "배우",
  "待遇": "대우",
  "後半": "후반",
  "後悔": "후회",
  "徒歩": "도보",
  "得意": "자랑",
  "御免": "실례",
  "復活": "부활",
  "復習": "복습",
  "心理": "심리",
  "心配": "걱정",
  "必要": "필요",
  "忘年会": "망년회",
  "応用": "응용",
  "応援": "응원",
  "快適": "쾌적",
  "怪我": "부상",
  "恋人": "연인",
  "恋愛": "연애",
  "息子": "아들",
  "悪化": "악화",
  "情報": "정보",
  "情熱": "열정",
  "想像": "상상",
  "意味": "의미",
  "意図": "의도",
  "意外": "의외",
  "意志": "의지",
  "意見": "의견",
  "意識": "의식",
  "愛情": "애정",
  "感動": "감동",
  "感想": "감상",
  "感情": "감정",
  "感覚": "감각",
  "感謝": "감사",
  "慣れる": "익숙해지다",
  "成功": "성공",
  "成績": "성적",
  "成長": "성장",
  "戦争": "전쟁",
  "戸籍": "호적",
  "所得": "소득",
  "手伝い": "도움",
  "手作り": "수제",
  "手段": "수단",
  "手続き": "수속",
  "手術": "수술",
  "手配": "수배",
  "才能": "재능",
  "批判": "비판",
  "技術": "기술",
  "把握": "파악",
  "投票": "투표",
  "折角": "모처럼",
  "抽象": "추상",
  "担当": "담당",
  "拡大": "확대",
  "指導": "지도",
  "指摘": "지적",
  "挑戦": "도전",
  "振動": "진동",
  "捜査": "수사",
  "掃除": "청소",
  "授業": "수업",
  "採用": "채용",
  "接続": "접속",
  "推進": "추진",
  "推測": "추측",
  "描写": "묘사",
  "提供": "제공",
  "提案": "제안",
  "援助": "원조",
  "損害": "손해",
  "摂氏": "섭씨",
  "支援": "지원",
  "支持": "지지",
  "支払い": "지불",
  "改善": "개선",
  "改正": "개정",
  "改革": "개혁",
  "放送": "방송",
  "政治": "정치",
  "政策": "정책",
  "教師": "교사",
  "教授": "교수",
  "教科書": "교과서",
  "教育": "교육",
  "数字": "숫자",
  "数学": "수학",
  "整備": "정비",
  "整理": "정리",
  "文化": "문화",
  "文学": "문학",
  "文字": "문자",
  "文明": "문명",
  "文章": "문장",
  "料理": "요리",
  "新聞": "신문",
  "方向": "방향",
  "方法": "방법",
  "方針": "방침",
  "旅行": "여행",
  "日常": "일상",
  "日記": "일기",
  "昨年": "작년",
  "時代": "시대",
  "時期": "시기",
  "時間": "시간",
  "普通": "보통",
  "普段": "평소",
  "景気": "경기",
  "景色": "경치",
  "暴力": "폭력",
  "曲線": "곡선",
  "書類": "서류",
  "最初": "최초",
  "最大": "최대",
  "最後": "최후",
  "最新": "최신",
  "最終": "최종",
  "最近": "최근",
  "最高": "최고",
  "有効": "유효",
  "有名": "유명",
  "期待": "기대",
  "期間": "기간",
  "期限": "기한",
  "本人": "본인",
  "本当": "정말",
  "本来": "본래",
  "本格": "본격",
  "材料": "재료",
  "条件": "조건",
  "来年": "내년",
  "東京": "도쿄",
  "果物": "과일",
  "柔軟": "유연",
  "栄養": "영양",
  "根本": "근본",
  "案内": "안내",
  "梅雨": "장마",
  "検査": "검사",
  "検討": "검토",
  "概念": "개념",
  "構成": "구성",
  "構造": "구조",
  "様子": "모습",
  "権利": "권리",
  "横断": "횡단",
  "機会": "기회",
  "機械": "기계",
  "機能": "기능",
  "欠点": "결점",
  "次第": "차례",
  "正式": "정식",
  "正直": "정직",
  "正確": "정확",
  "歴史": "역사",
  "死亡": "사망",
  "殺人": "살인",
  "段階": "단계",
  "母親": "어머니",
  "毎日": "매일",
  "毎月": "매월",
  "毎週": "매주",
  "毎年": "매년",
  "比較": "비교",
  "気候": "기후",
  "気分": "기분",
  "気温": "기온",
  "水準": "수준",
  "永遠": "영원",
  "汚染": "오염",
  "決定": "결정",
  "決心": "결심",
  "決断": "결단",
  "治療": "치료",
  "法則": "법칙",
  "法律": "법률",
  "注意": "주의",
  "注目": "주목",
  "活動": "활동",
  "活用": "활용",
  "活躍": "활약",
  "流行": "유행",
  "消費": "소비",
  "消防": "소방",
  "準備": "준비",
  "漢字": "한자",
  "演劇": "연극",
  "演奏": "연주",
  "演技": "연기",
  "演説": "연설",
  "火災": "화재",
  "点数": "점수",
  "無料": "무료",
  "無理": "무리",
  "無視": "무시",
  "焦点": "초점",
  "照明": "조명",
  "熱心": "열심",
  "燃料": "연료",
  "父親": "아버지",
  "物価": "물가",
  "物語": "이야기",
  "物質": "물질",
  "特別": "특별",
  "特徴": "특징",
  "特急": "특급",
  "特長": "특장",
  "犯人": "범인",
  "犯罪": "범죄",
  "状態": "상태",
  "状況": "상황",
  "独立": "독립",
  "独特": "독특",
  "独身": "독신",
  "獲得": "획득",
  "現代": "현대",
  "現在": "현재",
  "現場": "현장",
  "現実": "현실",
  "現状": "현상",
  "現象": "현상",
  "理由": "이유",
  "理解": "이해",
  "環境": "환경",
  "生命": "생명",
  "生活": "생활",
  "生産": "생산",
  "産業": "산업",
  "用意": "준비",
  "用語": "용어",
  "田舎": "시골",
  "男優": "남배우",
  "男性": "남성",
  "画面": "화면",
  "留学": "유학",
  "番組": "프로그램",
  "番号": "번호",
  "疑問": "의문",
  "病気": "병",
  "病院": "병원",
  "症状": "증상",
  "発展": "발전",
  "発明": "발명",
  "発生": "발생",
  "発表": "발표",
  "発見": "발견",
  "発言": "발언",
  "発達": "발달",
  "登場": "등장",
  "登録": "등록",
  "皮肉": "비꼼",
  "目標": "목표",
  "目的": "목적",
  "直接": "직접",
  "相互": "상호",
  "相手": "상대",
  "相談": "상담",
  "看板": "간판",
  "真剣": "진지",
  "真実": "진실",
  "着物": "기모노",
  "知識": "지식",
  "短期": "단기",
  "研究": "연구",
  "確信": "확신",
  "確実": "확실",
  "確認": "확인",
  "社会": "사회",
  "社員": "사원",
  "社長": "사장",
  "神経": "신경",
  "神社": "신사",
  "祝日": "공휴일",
  "禁止": "금지",
  "福祉": "복지",
  "私立": "사립",
  "秘密": "비밀",
  "秩序": "질서",
  "移動": "이동",
  "程度": "정도",
  "税金": "세금",
  "種類": "종류",
  "積極": "적극",
  "空港": "공항",
  "突然": "갑자기",
  "立場": "입장",
  "競争": "경쟁",
  "竹": "대나무",
  "第一": "제일",
  "筆記": "필기",
  "算数": "산수",
  "管理": "관리",
  "範囲": "범위",
  "精神": "정신",
  "約束": "약속",
  "純粋": "순수",
  "紙幣": "지폐",
  "紹介": "소개",
  "経営": "경영",
  "経済": "경제",
  "経験": "경험",
  "結局": "결국",
  "結婚": "결혼",
  "結果": "결과",
  "結論": "결론",
  "給料": "급료",
  "統一": "통일",
  "統計": "통계",
  "絵画": "회화",
  "継続": "계속",
  "続編": "속편",
  "総合": "종합",
  "編集": "편집",
  "練習": "연습",
  "縦横": "종횡",
  "績": "공적",
  "繁栄": "번영",
  "美人": "미인",
  "美術": "미술",
  "義務": "의무",
  "習慣": "습관",
  "職業": "직업",
  "能力": "능력",
  "自信": "자신감",
  "自動": "자동",
  "自己": "자기",
  "自由": "자유",
  "自然": "자연",
  "自転車": "자전거",
  "興味": "흥미",
  "舞台": "무대",
  "航空": "항공",
  "船舶": "선박",
  "良心": "양심",
  "色々": "여러가지",
  "若者": "젊은이",
  "苦労": "고생",
  "英語": "영어",
  "落語": "라쿠고",
  "著者": "저자",
  "蒸気": "증기",
  "行事": "행사",
  "行動": "행동",
  "表現": "표현",
  "表面": "표면",
  "被害": "피해",
  "装置": "장치",
  "製品": "제품",
  "複雑": "복잡",
  "西洋": "서양",
  "規則": "규칙",
  "規模": "규모",
  "視点": "시점",
  "親切": "친절",
  "観光": "관광",
  "観客": "관객",
  "観察": "관찰",
  "言葉": "말",
  "計画": "계획",
  "計算": "계산",
  "記事": "기사",
  "記念": "기념",
  "記録": "기록",
  "記者": "기자",
  "診断": "진단",
  "証明": "증명",
  "評価": "평가",
  "試合": "시합",
  "試験": "시험",
  "話題": "화제",
  "誕生": "탄생",
  "認識": "인식",
  "誤解": "오해",
  "説明": "설명",
  "課題": "과제",
  "調子": "컨디션",
  "調査": "조사",
  "調整": "조정",
  "談話": "담화",
  "警察": "경찰",
  "議員": "의원",
  "議会": "의회",
  "議論": "의론",
  "財産": "재산",
  "責任": "책임",
  "貿易": "무역",
  "費用": "비용",
  "資料": "자료",
  "資本": "자본",
  "資格": "자격",
  "資源": "자원",
  "資金": "자금",
  "賛成": "찬성",
  "質問": "질문",
  "購入": "구입",
  "贈り物": "선물",
  "起源": "기원",
  "超過": "초과",
  "趣味": "취미",
  "身体": "신체",
  "身長": "신장",
  "軍事": "군사",
  "転換": "전환",
  "輸出": "수출",
  "輸入": "수입",
  "近所": "근처",
  "近代": "근대",
  "迷惑": "폐",
  "追加": "추가",
  "退職": "퇴직",
  "逆転": "역전",
  "通勤": "통근",
  "通常": "통상",
  "通訳": "통역",
  "通貨": "통화",
  "連休": "연휴",
  "連続": "연속",
  "連絡": "연락",
  "進歩": "진보",
  "運動": "운동",
  "運命": "운명",
  "運転": "운전",
  "道具": "도구",
  "道徳": "도덕",
  "達成": "달성",
  "選手": "선수",
  "選挙": "선거",
  "選択": "선택",
  "遺伝": "유전",
  "部分": "부분",
  "部屋": "방",
  "部門": "부문",
  "都会": "도시",
  "配達": "배달",
  "酸素": "산소",
  "野球": "야구",
  "量": "양",
  "金属": "금속",
  "金融": "금융",
  "録音": "녹음",
  "長期": "장기",
  "開始": "개시",
  "開発": "개발",
  "間違い": "실수",
  "関係": "관계",
  "関心": "관심",
  "関連": "관련",
  "防止": "방지",
  "防災": "방재",
  "限界": "한계",
  "階段": "계단",
  "隠す": "숨기다",
  "集中": "집중",
  "集団": "집단",
  "雇用": "고용",
  "離婚": "이혼",
  "難民": "난민",
  "電子": "전자",
  "電池": "전지",
  "電気": "전기",
  "電波": "전파",
  "電話": "전화",
  "需要": "수요",
  "震災": "진재",
  "青年": "청년",
  "非常": "비상",
  "面接": "면접",
  "革命": "혁명",
  "音楽": "음악",
  "順序": "순서",
  "順番": "순번",
  "頻繁": "빈번",
  "題名": "제목",
  "風景": "풍경",
  "風習": "풍습",
  "食事": "식사",
  "食品": "식품",
  "食欲": "식욕",
  "養成": "양성",
  "首相": "수상",
  "馬鹿": "바보",
  "駐車": "주차",
  "高校": "고등학교",
  "高速": "고속",
  "鳥類": "조류"
};

// Read the current N3 file
const n3Path = path.join(__dirname, '../src/data/words/n3.ts');
let content = fs.readFileSync(n3Path, 'utf8');

let addedCount = 0;
for (const [expression, korean] of Object.entries(koreanTranslations)) {
  // Find entries without meaningKo
  const escapedExpr = expression.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const pattern = new RegExp(
    `(\\{\\s*expression:\\s*['"]${escapedExpr}['"],\\s*reading:\\s*['"][^'"]+['"],\\s*meaning:\\s*['"][^'"]+['"])\\s*(\\})`,
    'g'
  );

  const newContent = content.replace(pattern, (match, prefix, suffix) => {
    if (match.includes('meaningKo')) return match;
    addedCount++;
    return `${prefix}, meaningKo: '${korean}' ${suffix}`;
  });

  content = newContent;
}

fs.writeFileSync(n3Path, content);

// Count current status
function countKorean(filePath) {
  const c = fs.readFileSync(filePath, 'utf8');
  const total = (c.match(/expression:/g) || []).length;
  const withKo = (c.match(/meaningKo:/g) || []).length;
  return { total, withKo };
}

const n5Stats = countKorean(path.join(__dirname, '../src/data/words/n5.ts'));
const n4Stats = countKorean(path.join(__dirname, '../src/data/words/n4.ts'));
const n3Stats = countKorean(n3Path);

console.log(`N3: Added ${addedCount} more, total: ${n3Stats.withKo}/${n3Stats.total} (${Math.round(n3Stats.withKo/n3Stats.total*100)}%)`);
console.log(`N5: ${n5Stats.withKo}/${n5Stats.total} (${Math.round(n5Stats.withKo/n5Stats.total*100)}%)`);
console.log(`N4: ${n4Stats.withKo}/${n4Stats.total} (${Math.round(n4Stats.withKo/n4Stats.total*100)}%)`);

const totalWords = n5Stats.total + n4Stats.total + n3Stats.total;
const totalKo = n5Stats.withKo + n4Stats.withKo + n3Stats.withKo;
console.log(`\nOverall: ${totalKo}/${totalWords} (${Math.round(totalKo/totalWords*100)}%)`);
