const fs = require('fs');
const path = require('path');

// More N3 Korean translations
const n3Translations = {
  '愛': '사랑',
  '相手': '상대',
  '合図': '신호',
  '愛情': '애정',
  'あいにく': '공교롭게도',
  '曖昧': '애매한',
  '遭う': '당하다',
  '扱う': '다루다',
  '暴れる': '난동부리다',
  '余る': '남다',
  '編む': '뜨다, 짜다',
  '怪しい': '수상한',
  '危うい': '위태로운',
  '争う': '다투다',
  '荒い': '거친',
  '改める': '고치다',
  '現れる': '나타나다',
  '表す': '나타내다',
  'あらゆる': '모든',
  'ありがたい': '고마운',
  '有り得る': '있을 수 있다',
  '暗記': '암기',
  '案内': '안내',
  '意外': '의외',
  '生かす': '살리다',
  '勢い': '기세',
  '生け花': '꽃꽂이',
  '意志': '의지',
  '維持': '유지',
  '意識': '의식',
  '泉': '샘',
  '依存': '의존',
  '致す': '하다 (겸양)',
  '一応': '일단',
  '一種': '일종',
  '一瞬': '일순간',
  '一層': '한층',
  '一致': '일치',
  '一定': '일정',
  '移転': '이전',
  '移動': '이동',
  '祈り': '기도',
  '祈る': '빌다',
  '今に': '곧',
  '今にも': '금방이라도',
  '居眠り': '졸음',
  '嫌がる': '싫어하다',
  '入り口': '입구',
  'インタビュー': '인터뷰',
  '引力': '인력',
  '植わる': '심어지다',
  '飢える': '굶주리다',
  '浮かぶ': '떠오르다',
  '浮かべる': '떠올리다',
  '浮く': '뜨다',
  '受け入れる': '받아들이다',
  '受け止める': '받아들이다',
  '受け取る': '받다',
  '動かす': '움직이다',
  '失う': '잃다',
  '薄める': '묽게 하다',
  '疑う': '의심하다',
  '嘘': '거짓말',
  '打ち合わせ': '사전 협의',
  '移す': '옮기다',
  '訴える': '호소하다',
  '促す': '재촉하다',
  '敬う': '공경하다',
  '奪う': '빼앗다',
  '生まれ': '태생',
  '裏返す': '뒤집다',
  '裏切る': '배신하다',
  '恨む': '원망하다',
  '売上': '매출',
  '羨ましい': '부러운',
  '永遠': '영원',
  '影響': '영향',
  '栄養': '영양',
  '液体': '액체',
  'えさ': '먹이',
  '得る': '얻다',
  '演技': '연기',
  '演説': '연설',
  '演奏': '연주',
  '延長': '연장',
  '縁': '인연',
  '追いかける': '뒤쫓다',
  '追い越す': '추월하다',
  '応援': '응원',
  '応じる': '응하다',
  '応接': '응접',
  '応対': '응대',
  '応募': '응모',
  '応用': '응용',
  '覆う': '덮다',
  '終える': '끝내다',
  '犯す': '범하다',
  '補う': '보충하다',
  '拝む': '절하다',
  '幼い': '어린',
  '大いに': '크게',
  '大げさ': '과장된',
  '大筋': '대략',
  '大幅': '대폭',
  '公': '공식적인',
  '収める': '거두다',
  '納める': '납부하다',
  '治める': '다스리다',
  '修める': '수양하다',
  '収まる': '수습되다',
  '納まる': '납부되다',
  '治まる': '진정되다',
  '穏やか': '온화한',
  '驚き': '놀라움',
  '怒り': '분노',
  '押さえる': '억누르다',
  '惜しい': '아까운',
  '汚染': '오염',
  '恐れ': '두려움',
  '恐れる': '두려워하다',
  '恐ろしい': '무서운',
  '恐らく': '아마도',
  '教わる': '배우다',
  '劣る': '열등하다',
  '衰える': '쇠퇴하다',
  '陥る': '빠지다',
  '落ち着く': '진정되다',
  '脅かす': '위협하다',
  '訪れる': '방문하다',
  '劣る': '뒤지다',
  '踊り': '춤',
  '音': '소리',
  '同い年': '동갑',
  '思いがけない': '뜻밖의',
  '思い切り': '마음껏',
  '思い込む': '굳게 믿다',
  '思いつく': '떠오르다',
  '面': '얼굴, 면',
  '重み': '무게',
  '赴く': '가다',
  '及ぶ': '미치다',
  '及ぼす': '미치다',
  '終わり': '끝',
  '音': '소리',
  '恩': '은혜',
  '温暖': '온난한',
  '温度': '온도',
  '家屋': '가옥',
  '絵画': '회화',
  '解決': '해결',
  '会計': '회계',
  '外交': '외교',
  '解釈': '해석',
  '改善': '개선',
  '解説': '해설',
  '解答': '해답',
  '改良': '개량',
  '帰す': '돌려보내다',
  '限る': '한정하다',
  '架空': '가공의',
  '掲げる': '내걸다',
  '欠く': '결하다',
  '書く': '쓰다',
  '描く': '그리다',
  '覚悟': '각오',
  '格差': '격차',
  '確実': '확실한',
  '確信': '확신',
  '拡大': '확대',
  '獲得': '획득',
  '確認': '확인',
  '確保': '확보',
  '確率': '확률',
  '額': '액수',
  '欠かす': '빠뜨리다',
  '欠ける': '결여되다',
  '駆ける': '달리다',
  '陰': '그늘',
  '影': '그림자',
  '掛け算': '곱셈',
  '賭ける': '걸다',
  '駆け出す': '뛰어나가다',
  '過激': '과격한',
  '加減': '가감',
  '囲む': '둘러싸다',
  '重なる': '겹치다',
  '重ねる': '겹치다',
  '飾り': '장식',
  '箇所': '개소',
  '方': '분, 쪽',
  '固い': '굳은',
  '硬い': '딱딱한',
  '形': '모양',
  '型': '형, 틀',
  '片付く': '정리되다',
  '語る': '이야기하다',
  '価値': '가치',
  '勝手': '마음대로',
  '合併': '합병',
  '我慢': '참음',
  '噛む': '씹다',
  '神': '신',
  '髪': '머리카락',
  '紙': '종이',
  '雷': '번개',
  '絡む': '얽히다',
  '空っぽ': '텅 빈',
  '刈る': '베다',
  '狩る': '사냥하다',
  '枯れる': '마르다, 시들다',
  '軽い': '가벼운',
  '缶': '캔',
  '勘': '감, 직감',
  '観': '관',
  '簡易': '간이',
  '環境': '환경',
  '感激': '감격',
  '歓迎': '환영',
  '観光': '관광',
  '勧告': '권고',
  '感謝': '감사',
  '患者': '환자',
  '関心': '관심',
  '完成': '완성',
  '感想': '감상',
  '乾燥': '건조',
  '完全': '완전',
  '感動': '감동',
  '肝心': '중요한',
  '観念': '관념',
  '幹部': '간부',
  '看板': '간판',
  '観覧': '관람',
  '管理': '관리',
  '慣用': '관용',
  '緩和': '완화',
  '記憶': '기억',
  '機械': '기계',
  '企画': '기획',
  '期間': '기간',
  '飢餓': '기아',
  '危機': '위기',
  '聴く': '듣다',
  '効く': '효과가 있다',
  '利く': '작용하다',
  '器具': '기구',
  '記載': '기재',
  '刻む': '새기다',
  '傷': '상처',
  '傷つく': '상처받다',
  '傷つける': '상처주다',
  '期待': '기대',
  '貴重': '귀중한',
  '規模': '규모',
  '奇妙': '기묘한',
  '疑問': '의문',
  '逆転': '역전',
  '脚本': '각본',
  '救援': '구원',
  '救助': '구조',
  '急速': '급속한',
  '急増': '급증',
  '給料': '급료',
  '教科書': '교과서',
  '協会': '협회',
  '境界': '경계',
  '協議': '협의',
  '共感': '공감',
  '行儀': '예의',
  '協調': '협조',
  '協定': '협정',
  '共同': '공동',
  '共通': '공통',
  '協力': '협력',
  '許可': '허가',
  '漁業': '어업',
  '巨大': '거대한',
  '記録': '기록',
  '嫌う': '싫어하다',
  '金額': '금액',
  '金銭': '금전',
  '金属': '금속',
  '金融': '금융',
  '区': '구',
  '区域': '구역',
  '偶然': '우연',
  '具合': '상태',
  '区間': '구간',
  '区切る': '구분하다',
  '草': '풀',
  '鎖': '사슬',
  '串': '꼬치',
  '崩す': '무너뜨리다',
  '崩れる': '무너지다',
  '癖': '버릇',
  '砕く': '부수다',
  '砕ける': '부서지다',
  '愚痴': '불평',
  '口': '입',
  '唇': '입술',
  '組み合わせ': '조합',
  '組み立てる': '조립하다',
  '曇り': '흐림',
  '悔やむ': '후회하다',
  '倉庫': '창고',
  '暮らし': '생활',
  'クリーニング': '세탁',
  '狂う': '미치다',
  '加わる': '가해지다',
  '詳しい': '자세한',
  '苦労': '고생',
  '黒': '검정',
  '訓練': '훈련',
  '軍': '군대',
  '群': '무리',
  '郡': '군',
  '計算': '계산',
  '形式': '형식',
  '形成': '형성',
  '契約': '계약',
  '激減': '격감',
  '激増': '격증',
  '下車': '하차',
  '削減': '삭감',
  '結果': '결과',
  '決議': '결의',
  '欠勤': '결근',
  '結合': '결합',
  '血圧': '혈압',
  '月末': '월말',
  '決定': '결정',
  '欠点': '결점',
  '結論': '결론',
  '気配': '기척',
  '煙': '연기',
  '煙い': '연기 자욱한',
  '険しい': '험한',
  '検査': '검사',
  '研修': '연수',
  '検討': '검토',
  '建築': '건축',
  '原則': '원칙',
  '現代': '현대',
  '原理': '원리',
  '権利': '권리',
  '原料': '원료',
  '語': '어',
  '恋愛': '연애',
  '行為': '행위',
  '合格': '합격',
  '高級': '고급',
  '合計': '합계',
  '貢献': '공헌',
  '交互': '교대로',
  '高速': '고속',
  '構造': '구조',
  '交替': '교체',
  '好調': '호조',
  '行動': '행동',
  '合同': '합동',
  '購入': '구입',
  '公表': '공표',
  '公平': '공평',
  '幸福': '행복',
  '公務員': '공무원',
  '合理': '합리',
  '効率': '효율',
  '高齢': '고령',
  '越す': '넘다',
  '腰': '허리',
  '個性': '개성',
  '故障': '고장',
  '誇張': '과장',
  '固定': '고정',
  '異なる': '다르다',
  '言': '말',
  '断る': '거절하다',
  '粉': '가루',
  '好む': '좋아하다',
  '込める': '담다',
  '雇用': '고용',
  '凝る': '응고되다',
  '転がる': '구르다',
  '転ぶ': '넘어지다',
  '殺す': '죽이다',
  '根': '뿌리',
  '根拠': '근거',
  '混合': '혼합',
  '混雑': '혼잡',
  '困難': '곤란',
  '混乱': '혼란',
  '災害': '재해',
  '最高': '최고',
  '再三': '재삼',
  '最終': '최종',
  '最小': '최소',
  '最新': '최신',
  '最善': '최선',
  '最大': '최대',
  '最低': '최저',
  '最適': '최적',
  '再度': '재차',
  '採点': '채점',
  '裁判': '재판',
  '材木': '목재',
  '細胞': '세포',
  '幸い': '다행히',
  '栄える': '번영하다',
  '探る': '탐색하다',
  '裂く': '찢다',
  '咲く': '피다',
  '削る': '깎다',
  '叫ぶ': '외치다',
  '支える': '지탱하다',
  '避ける': '피하다',
  '下げる': '내리다',
  '捧げる': '바치다',
  'ささやく': '속삭이다',
  '差す': '비추다',
  '刺す': '찌르다',
  '指す': '가리키다',
  '挿す': '꽂다',
  '授ける': '수여하다',
  '授かる': '받다',
  '撮影': '촬영',
  '雑': '잡',
  '雑談': '잡담',
  '錆びる': '녹슬다',
  '寂しい': '외로운',
  '冷ます': '식히다',
  '冷める': '식다',
  '覚ます': '깨우다',
  '覚める': '깨다',
  '様': '님, 모양',
  '様々': '다양한',
  '作業': '작업',
  '作者': '작가',
  '作成': '작성',
  '作品': '작품',
  '三角': '삼각',
  '参加': '참가',
  '産業': '산업',
  '参考': '참고',
  '賛成': '찬성',
  '残念': '유감',
  '試験': '시험',
  '刺激': '자극',
  '資金': '자금',
  '指示': '지시',
  '支持': '지지',
  '事実': '사실',
  '施設': '시설',
  '姿勢': '자세',
  '事前': '사전',
  '思想': '사상',
  '下': '아래',
  '舌': '혀',
  '親しい': '친한',
  '親しむ': '친해지다',
  '従う': '따르다',
  '実': '열매',
  '実行': '실행',
  '実際': '실제',
  '実施': '실시',
  '実績': '실적',
  '実態': '실태',
  '実践': '실천',
  '実態': '실태',
  '実用': '실용',
  '実力': '실력',
  '実例': '실례',
  '失業': '실업',
  '失礼': '실례',
  '指定': '지정',
  '支店': '지점',
  '自慢': '자랑',
  '氏名': '성명',
  '使命': '사명',
  '地元': '지역',
  '社': '사',
  '邪魔': '방해',
  '車両': '차량',
  '周囲': '주위',
  '収益': '수익',
  '集会': '집회',
  '修正': '수정',
  '集団': '집단',
  '修理': '수리',
  '主語': '주어',
  '手段': '수단',
  '出演': '출연',
  '出勤': '출근',
  '出現': '출현',
  '出産': '출산',
  '出席': '출석',
  '出張': '출장',
  '出発': '출발',
  '出版': '출판',
  '主題': '주제',
  '主役': '주역',
  '需要': '수요',
  '種類': '종류',
  '順調': '순조로운',
  '順番': '순번',
  '純粋': '순수한',
  '準備': '준비',
  '処置': '처치',
  '消化': '소화',
  '障害': '장애',
  '生涯': '생애',
  '消去': '삭제',
  '条件': '조건',
  '状況': '상황',
  '上昇': '상승',
  '商人': '상인',
  '正直': '정직한',
  '賞品': '상품',
  '消費': '소비',
  '情報': '정보',
  '勝利': '승리',
  '省略': '생략',
  '職業': '직업',
  '食欲': '식욕',
  '処理': '처리',
  '知り合い': '지인',
  '資料': '자료',
  '試練': '시련',
  '知恵': '지혜',
  '芯': '심지',
  '進化': '진화',
  '真剣': '진지한',
  '信仰': '신앙',
  '申告': '신고',
  '人材': '인재',
  '親戚': '친척',
  '親善': '친선',
  '新鮮': '신선한',
  '診断': '진단',
  '信頼': '신뢰',
  '振動': '진동',
  '侵入': '침입',
  '新婦': '신부',
  '進歩': '진보',
  '信用': '신용',
  '侵略': '침략',
  '森林': '삼림',
  '推進': '추진',
  '推測': '추측',
  '推定': '추정',
  '推理': '추리',
  '図鑑': '도감',
  '救い': '구원',
  '救う': '구하다',
  '優れる': '뛰어나다',
  '筋': '근육, 줄거리',
  '筋道': '논리',
  '図表': '도표',
  '滑る': '미끄러지다',
  '鋭い': '날카로운',
  '制限': '제한',
  '成功': '성공',
  '正式': '정식',
  '精神': '정신',
  '成人': '성인',
  '生存': '생존',
  '制定': '제정',
  '青年': '청년',
  '整備': '정비',
  '制服': '제복',
  '政府': '정부',
  '声明': '성명',
  '西洋': '서양',
  '整理': '정리',
  '税': '세금',
  '税金': '세금',
  '石油': '석유',
  '責任': '책임',
  '世紀': '세기',
  '世間': '세상',
  '席': '자리',
  '接近': '접근',
  '設計': '설계',
  '接触': '접촉',
  '接続': '접속',
  '絶対': '절대',
  '設置': '설치',
  '切実': '절실한',
  '設定': '설정',
  '節約': '절약',
  '説明': '설명',
  '責める': '비난하다',
  '攻める': '공격하다',
  '迫る': '다가오다',
  '狭める': '좁히다',
  '繊維': '섬유',
  '宣言': '선언',
  '前後': '전후',
  '全国': '전국',
  '選手': '선수',
  '扇子': '부채',
  '戦線': '전선',
  '専属': '전속',
  '先端': '선단',
  '宣伝': '선전',
  '全般': '전반',
  '専門': '전문',
  '戦略': '전략',
  '騒音': '소음',
  '操作': '조작',
  '創造': '창조',
  '想像': '상상',
  '相続': '상속',
  '増大': '증대',
  '装置': '장치',
  '相当': '상당',
  '総理': '총리',
  '増加': '증가',
  '僧': '승려',
  '属する': '속하다',
  '束縛': '속박',
  '促進': '촉진',
  '測定': '측정',
  '速度': '속도',
  '素材': '소재',
  '組織': '조직',
  '育つ': '자라다',
  '育てる': '키우다',
  '措置': '조치',
  '卒業': '졸업',
  '率直': '솔직한',
  '備える': '갖추다',
  '染まる': '물들다',
  '染める': '물들이다',
  '反らす': '휘게 하다',
  '揃う': '갖추어지다',
  '揃える': '갖추다',
  '損害': '손해',
  '存在': '존재',
  '尊重': '존중',
  '存続': '존속',
  '大': '대',
  '体': '몸',
  '対応': '대응',
  '退化': '퇴화',
  '大会': '대회',
  '対角': '대각',
  '大気': '대기',
  '退却': '퇴각',
  '体験': '체험',
  '退屈': '지루한',
  '大差': '큰 차이',
  '対策': '대책',
  '体質': '체질',
  '対照': '대조',
  '大衆': '대중',
  '大胆': '대담한',
  '対談': '대담',
  '態度': '태도',
  '滞納': '체납',
  '大半': '대부분',
  '大部分': '대부분',
  '大変': '힘든',
  '対面': '대면',
  '題目': '제목',
  '対立': '대립',
  '耐える': '견디다',
  '絶える': '끊어지다',
  '高': '높이',
  '高まる': '높아지다',
  '高める': '높이다',
  '宝': '보물',
  '滝': '폭포',
  '炊く': '밥을 짓다',
  '焚く': '태우다',
  '抱く': '안다',
  '巧み': '교묘한',
  '企む': '꾀하다',
  '逞しい': '씩씩한',
  '確かめる': '확인하다',
  '戦い': '싸움',
  '叩く': '두드리다',
  '畳': '다다미',
  '畳む': '접다',
  '正しい': '옳은',
  '立ち上がる': '일어서다',
  '立ち止まる': '멈춰 서다',
  '達成': '달성',
  '建つ': '세워지다',
  '断つ': '끊다',
  '経つ': '지나다',
  '縦': '세로',
  '例': '예',
  '例える': '비유하다',
  '束': '다발',
  '谷': '골짜기',
  '魂': '영혼',
  '楽しい': '즐거운',
  '楽しむ': '즐기다',
  '単位': '단위',
  '単語': '단어',
  '短所': '단점',
  '単純': '단순한',
  '担当': '담당',
  '男女': '남녀',
  '暖房': '난방',
  '段落': '단락',
  '地位': '지위',
  '地域': '지역',
  '知恵': '지혜',
  '違い': '차이',
  '地球': '지구',
  '蓄積': '축적',
  '知識': '지식',
  '地帯': '지대',
  '秩序': '질서',
  '着実': '착실한',
  '注': '주',
  '仲': '사이',
  '中央': '중앙',
  '中間': '중간',
  '忠告': '충고',
  '中旬': '중순',
  '中心': '중심',
  '中世': '중세',
  '中断': '중단',
  '注文': '주문',
  '中立': '중립',
  '超': '초',
  '長': '장',
  '頂上': '정상',
  '長男': '장남',
  '貯金': '저금',
  '直接': '직접',
  '直線': '직선',
  '直通': '직통',
  '沈む': '가라앉다',
  '追加': '추가',
  '通過': '통과',
  '通勤': '통근',
  '通常': '통상',
  '通信': '통신',
  '通知': '통지',
  '通用': '통용',
  '通路': '통로',
  '掴む': '잡다',
  '疲れ': '피로',
  '継ぐ': '잇다',
  '付き合う': '사귀다',
  '突く': '찌르다',
  '告げる': '알리다',
  '尽きる': '다하다',
  '尽くす': '다하다',
  '作り': '만듦',
  '造り': '구조',
  '造る': '만들다',
  '務める': '근무하다',
  '勤める': '근무하다',
  '包む': '싸다',
  '繋がる': '연결되다',
  '繋ぐ': '연결하다',
  '繋げる': '연결하다',
  '粒': '알갱이',
  '詰まる': '막히다',
  '詰める': '채우다',
  '摘む': '따다',
  '冷たい': '차가운',
  '強い': '강한',
  '強まる': '강해지다',
  '強める': '강화하다',
  '連れ': '동반자',
  '手': '손',
  '定価': '정가',
  '定期': '정기',
  '抵抗': '저항',
  '訂正': '정정',
  '程度': '정도',
  '停電': '정전',
  '停留所': '정류장',
  '手入れ': '손질',
  '手遅れ': '시기를 놓침',
  '適応': '적응',
  '適当': '적당한',
  '適用': '적용',
  '出来事': '일',
  '手順': '순서',
  '手続き': '절차',
  '鉄': '철',
  '徹底': '철저',
  '撤退': '철퇴',
  '鉄道': '철도',
  '徹夜': '밤새',
  '手間': '수고',
  '照らす': '비추다',
  '照る': '빛나다',
  '展開': '전개',
  '伝記': '전기',
  '電源': '전원',
  '伝言': '전갈',
  '天才': '천재',
  '伝説': '전설',
  '電池': '전지',
  '天井': '천장',
  '伝統': '전통',
  '転倒': '전도',
  '店舗': '점포',
  '伝来': '전래',
  '天然': '천연',
  '展望': '전망'
};

// Apply translations to N3 file
const n3Path = path.join(__dirname, '..', 'src', 'data', 'words', 'n3.ts');
let content = fs.readFileSync(n3Path, 'utf-8');
let updatedCount = 0;

for (const [expression, korean] of Object.entries(n3Translations)) {
  const escapedExp = expression.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const escapedKorean = korean.replace(/'/g, "\\'");

  // Only update if not already has meaningKo
  const checkPattern = new RegExp(
    `\\{ expression: '${escapedExp}', reading: '[^']+', meaning: '[^']+'(, meaningKo: '[^']+')?`,
    'g'
  );

  const matches = content.match(checkPattern);
  if (matches) {
    for (const match of matches) {
      if (!match.includes('meaningKo')) {
        const pattern = new RegExp(
          `(\\{ expression: '${escapedExp}', reading: '[^']+', meaning: '[^']+')( \\})`,
          'g'
        );
        const newContent = content.replace(pattern, `$1, meaningKo: '${escapedKorean}'$2`);
        if (newContent !== content) {
          content = newContent;
          updatedCount++;
        }
      }
    }
  }
}

fs.writeFileSync(n3Path, content);
console.log(`N3: Added ${updatedCount} more translations`);

// Count total
const n3Total = (content.match(/meaningKo/g) || []).length;
console.log(`N3 total: ${n3Total}/2140`);
